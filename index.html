<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Fynx by Foss & Haas</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Fynx</h1>
        <h2>not quite Flux</h2>
        <a href="https://github.com/foss-haas/fynx" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <p><img src="https://foss-haas.github.io/fynx/fynx.png" alt="Fynx"></p>

<h1>
<a id="synopsis" class="anchor" href="#synopsis" aria-hidden="true"><span class="octicon octicon-link"></span></a>Synopsis</h1>

<p><strong>Fynx</strong> (formerly known as Flox) is an architecture library for <a href="http://facebook.github.io/react">React</a> loosely based on the <a href="http://facebook.github.io/flux">Flux architecture</a> and inspired by <a href="https://www.npmjs.com/package/reflux">Reflux</a> and <a href="http://fluxxor.com">Fluxxor</a>.</p>

<p><a href="https://gitter.im/foss-haas/fynx"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Gitter"></a></p>

<p><a href="http://foss-haas.mit-license.org"><img src="https://img.shields.io/npm/l/fynx.svg" alt="license - MIT"></a> <a href="https://david-dm.org/foss-haas/fynx"><img src="https://img.shields.io/david/foss-haas/fynx.svg" alt="Dependencies"></a></p>

<p><a href="https://www.npmjs.com/package/fynx"><img src="https://nodei.co/npm/fynx.png?compact=true" alt="NPM status"></a></p>

<p><a href="https://travis-ci.org/foss-haas/fynx"><img src="https://img.shields.io/travis/foss-haas/fynx.svg" alt="Build status"></a> <a href="https://coveralls.io/r/foss-haas/fynx?branch=master"><img src="https://img.shields.io/coveralls/foss-haas/fynx.svg" alt="Coverage status"></a> <a href="https://www.codacy.com/public/me_4/fynx"><img src="https://img.shields.io/codacy/6f19c1455aa04fd08d77445fb5b9fc91.svg" alt="Codacy rating"></a></p>

<h1>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h1>

<h2>
<a id="with-npm" class="anchor" href="#with-npm" aria-hidden="true"><span class="octicon octicon-link"></span></a>With NPM</h2>

<div class="highlight highlight-sh"><pre>npm install fynx</pre></div>

<h2>
<a id="from-source" class="anchor" href="#from-source" aria-hidden="true"><span class="octicon octicon-link"></span></a>From source</h2>

<div class="highlight highlight-sh"><pre>git clone https://github.com/foss-haas/fynx.git
<span class="pl-s3">cd</span> fynx
npm install
npm run dist</pre></div>

<h1>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h1>

<h2>
<a id="obligatory-ascii-diagram" class="anchor" href="#obligatory-ascii-diagram" aria-hidden="true"><span class="octicon octicon-link"></span></a>Obligatory ASCII diagram</h2>

<pre><code>  ╔═════════════════╗     ╔════════╗   ┌────────────┐
  ║ View Components ║&lt;────╢ Stores ║   │ Server API │
  ╚═══╤════╤════════╝     ╚════════╝   └────────────┘
      │    │                   ^                ^
      │    └────────────────┐  └────────────┐   │
      v                     v               │   │
  ╔═════════════════╗   ╔═════════╗     ┌───┴───┴───┐
  ║ Pure Components ║   ║ Actions ║&lt;═══&gt;│ Listeners │
  ╚═════════════════╝   ╚═════════╝     └───────────┘
</code></pre>

<h2>
<a id="definitions" class="anchor" href="#definitions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Definitions</h2>

<p><strong>View Components</strong> are components that listen to <em>Stores</em> and/or invoke <em>Actions</em>. According to the philosophy of React, these should usually be the outer most components in an application. They pass (immutable) data from <em>Stores</em> as props to the underlying <strong>Pure Components</strong>, the regular self-contained React components. They may also invoke <em>Actions</em> as the result of user interaction with those components.</p>

<p><strong>Stores</strong> are listenable functions that contain the application state and emit their contents whenenever they are written to. In Fynx, these contents are generally immutable, so modifying them requires updating the store that contains them.</p>

<p><strong>Actions</strong> are listenable functions that emit to <em>Listeners</em> whatever data is passed to them. They provide the core building block of all interactions between <em>View Components</em> and <em>Stores</em> or the <em>Server API</em>.</p>

<p><strong>Listeners</strong> are arbitrary functions that listen to <em>Actions</em> and connect them with each other. They are the only part of the application that communicates directly with the <em>Server API</em> or writes to <em>Stores</em>. Listeners may also invoke other actions.</p>

<p>The <strong>Server API</strong> is the code that directly communicates with the remote server or persistence layer of the application. Its implementation should be entirely orthogonal to the rest of the application. For example, a thin wrapper around <code>XMLHttpRequest</code> that takes arguments and a callback or returns a promise.</p>

<h2>
<a id="example-login-view" class="anchor" href="#example-login-view" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example: Login view</h2>

<p>For brevity, we'll use JSX with the harmony flag enabled throughout this example. This allows us to use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">arrow functions</a> and the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions">method shorthand syntax</a> introduced in ECMAScript 6. Also, if you want to give the example a try yourself, please make sure the <code>Promise</code> function is available globally. If you are using a modern evergreen browser like Chrome or Firefox, this should already be the case.</p>

<p>We're going to assume the Server API is an object that provides a single method with the following signature that returns a promise which resolves to the user data or is rejected with a descriptive error message that can be presented to the user:</p>

<p><code>api.login(username:String, password:String):Promise</code></p>

<p>We'll need at least two actions:</p>

<ul>
<li>
<code>loginAttempt</code> to perform the login via the Server API.</li>
<li>
<code>loginComplete</code> to react to successful login attempts throughout the app.</li>
</ul>

<p>For simplicity, we'll make both of them asynchronous and just use the bulk creation method Fynx provides:</p>

<div class="highlight highlight-js"><pre><span class="pl-s">var</span> actions <span class="pl-k">=</span> Fynx.createAsyncActions([
  <span class="pl-s1"><span class="pl-pds">'</span>loginAttempt<span class="pl-pds">'</span></span>,
  <span class="pl-s1"><span class="pl-pds">'</span>loginComplete<span class="pl-pds">'</span></span>
]);</pre></div>

<p>The application also needs a store for the user data. We're going to assume that the user data will always be a simple mapping of keys and values (i.e. a plain object) that requires no special processing:</p>

<div class="highlight highlight-js"><pre><span class="pl-s">var</span> immutable <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>immutable<span class="pl-pds">'</span></span>);
<span class="pl-s">var</span> userStore <span class="pl-k">=</span> Fynx.createSimpleStore(immutable.Map());</pre></div>

<p>Next we need to make sure successful login attempts result in the user object provided by the server being updated in the store:</p>

<div class="highlight highlight-js"><pre>actions.loginComplete.listen((userData) <span class="pl-k">=&gt;</span> userStore(userData));</pre></div>

<p>We also need a listener that makes the actual server request. Notice that we could simply combine the two actions into one, but keeping them separate allows us to re-use them throughout the application:</p>

<div class="highlight highlight-js"><pre>actions.loginAttempt.listen(
  (credentials) <span class="pl-k">=&gt;</span> api.login(credentials.username, credentials.password)
  .then((userData) <span class="pl-k">=&gt;</span> actions.loginComplete(userData))
);</pre></div>

<p>The server API does the heavy lifting of communicating with the server, so we're only left with a little bit of glue.</p>

<p>Finally, the controller view itself:</p>

<div class="highlight highlight-js"><pre><span class="pl-s">var</span> Login <span class="pl-k">=</span> React.createClass({
  mixins<span class="pl-k">:</span> [
    <span class="pl-c">// Make sure the "user" state is updated whenever the store changes.</span>
    Fynx.connect(userStore, <span class="pl-s1"><span class="pl-pds">'</span>user<span class="pl-pds">'</span></span>)
  ],
  getInitialState() {
    <span class="pl-k">return</span> {
      username<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
      password<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
      error<span class="pl-k">:</span> <span class="pl-c1">null</span>,
      promise<span class="pl-k">:</span> <span class="pl-c1">null</span>
    };
  },
  handleFormSubmit(evt) {
    evt.preventDefault();
    <span class="pl-c">// If a login attempt has already been made, cancel it.</span>
    <span class="pl-k">if</span> (<span class="pl-v">this</span>.state.promise) <span class="pl-v">this</span>.state.promise.cancel();
    <span class="pl-s">var</span> promise <span class="pl-k">=</span> actions.attemptLogin({
      username<span class="pl-k">:</span> <span class="pl-v">this</span>.state.username,
      password<span class="pl-k">:</span> <span class="pl-v">this</span>.state.password
    });
    <span class="pl-c">// If the login attempt fails, show the error message.</span>
    promise.then(<span class="pl-c1">null</span>, (reason) <span class="pl-k">=&gt;</span> {
      <span class="pl-c">// If it failed because it was cancelled, ignore it.</span>
      <span class="pl-k">if</span> (promise.cancelled()) <span class="pl-k">return</span>;
      <span class="pl-v">this</span>.setState({error<span class="pl-k">:</span> reason});
    });
    <span class="pl-c">// Finally clear the previous error message.</span>
    <span class="pl-v">this</span>.setState({
      error<span class="pl-k">:</span> <span class="pl-c1">null</span>,
      promise<span class="pl-k">:</span> promise
    });
  },
  handleUsernameChange(evt) {
    <span class="pl-v">this</span>.setState({username<span class="pl-k">:</span> evt.<span class="pl-sc">target</span>.<span class="pl-sc">value</span>});
  },
  handlePasswordChange(evt) {
    <span class="pl-v">this</span>.setState({password<span class="pl-k">:</span> evt.<span class="pl-sc">target</span>.<span class="pl-sc">value</span>});
  },
  componentWillUnmount() {
    <span class="pl-c">// If the component is being unmounted, old promises can only do harm.</span>
    <span class="pl-c">// So we need to make sure the component does not react to it.</span>
    <span class="pl-k">if</span> (<span class="pl-v">this</span>.state.promise) <span class="pl-v">this</span>.state.promise.cancel();
  },
  render() {
    <span class="pl-c">// Don't show the form if the user is already logged in.</span>
    <span class="pl-k">if</span> (<span class="pl-v">this</span>.state.user.get(<span class="pl-s1"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span>)) {
      <span class="pl-k">return</span> <span class="pl-k">&lt;</span>div<span class="pl-k">&gt;</span>Already logged <span class="pl-k">in</span>.<span class="pl-k">&lt;</span>/div<span class="pl-k">&gt;</span>;
    }
    <span class="pl-k">return</span> (
      <span class="pl-k">&lt;</span>form <span class="pl-s3">onSubmit</span><span class="pl-k">=</span>{<span class="pl-v">this</span>.handleFormSubmit}<span class="pl-k">&gt;</span>
        {<span class="pl-v">this</span>.state<span class="pl-s3">.error</span>}
        <span class="pl-k">&lt;</span>label<span class="pl-k">&gt;</span>
          Username<span class="pl-k">:</span>
          <span class="pl-k">&lt;</span>input type<span class="pl-k">=</span><span class="pl-s1"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span> value<span class="pl-k">=</span>{<span class="pl-v">this</span>.state.username}
            <span class="pl-s3">onChange</span><span class="pl-k">=</span>{<span class="pl-v">this</span>.handleUsernameChange}/<span class="pl-k">&gt;</span>
        <span class="pl-k">&lt;</span>/label<span class="pl-k">&gt;</span>
        <span class="pl-k">&lt;</span>label<span class="pl-k">&gt;</span>
          <span class="pl-s3">Password</span><span class="pl-k">:</span>
          <span class="pl-k">&lt;</span>input type<span class="pl-k">=</span><span class="pl-s1"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span> value<span class="pl-k">=</span>{<span class="pl-v">this</span>.state.password}
            <span class="pl-s3">onChange</span><span class="pl-k">=</span>{<span class="pl-v">this</span>.handlePasswordChange}/<span class="pl-k">&gt;</span>
        <span class="pl-k">&lt;</span>/label<span class="pl-k">&gt;</span>
        <span class="pl-k">&lt;</span>button<span class="pl-k">&gt;</span>Log <span class="pl-k">in&lt;</span>/button<span class="pl-k">&gt;</span>
      <span class="pl-k">&lt;</span>/form<span class="pl-k">&gt;</span>
    );
  }
});</pre></div>

<h2>
<a id="but-what-about-waitfor" class="anchor" href="#but-what-about-waitfor" aria-hidden="true"><span class="octicon octicon-link"></span></a>But what about waitFor?</h2>

<p>Flux has <code>waitFor</code>, Fynx does not. Because Flux's dispatcher is entirely replaced by Fynx's actions and listeners and you're encouraged to create as many different actions as your application needs, you'll rarely run into situations where stores actually depend on each other in a way that can't be solved with a few event listeners.</p>

<p>If you run into a real-world scenario you can't solve with additional actions or services, feel free to <a href="https://github.com/foss-haas/fynx/issues">report an issue on GitHub</a> or <a href="https://gitter.im/foss-haas/fynx">discuss it on Gitter</a>. Otherwise, just stick to the Fynx mantra: <em>If in doubt, use more duct tape!</em></p>

<h1>
<a id="api" class="anchor" href="#api" aria-hidden="true"><span class="octicon octicon-link"></span></a>API</h1>

<h2>
<a id="createactionspecaction" class="anchor" href="#createactionspecaction" aria-hidden="true"><span class="octicon octicon-link"></span></a>createAction([spec]):action</h2>

<p>Creates an action optionally extended with the given <code>spec</code>.</p>

<p>Returns a function that will pass its argument to all of its listeners in sequence and return the result.</p>

<p>For a full documentation of this function, see <a href="https://github.com/pluma/axn#axnspecfunction">the documentation of <code>axn</code></a>.</p>

<h2>
<a id="createactionsspecsobject" class="anchor" href="#createactionsspecsobject" aria-hidden="true"><span class="octicon octicon-link"></span></a>createActions(specs):Object</h2>

<p>Creates actions for the given <code>specs</code>. Convenience wrapper around <code>createAction</code> for bulk creation of actions.</p>

<p>If <code>specs</code> is an array of strings, returns an object mapping the strings to actions.</p>

<p>If <code>specs</code> is an object, returns an object mapping the object's keys to the result of calling <code>createAction</code> with the object's values.</p>

<h2>
<a id="createasyncactionspecasyncaction" class="anchor" href="#createasyncactionspecasyncaction" aria-hidden="true"><span class="octicon octicon-link"></span></a>createAsyncAction([spec]):asyncAction</h2>

<p>Creates an asynchronous action optionally extended with the given <code>spec</code>.</p>

<p>Returns a function that will pass its argument to all of its listeners in sequence and return a cancellable promise.</p>

<p>If you want to use async actions in your app, make sure the global <code>Promise</code> function is available. If you want to use async actions in environments where this is not the case (such as node and older browsers), make sure to include a polyfill like <a href="https://www.npmjs.com/package/es6-promise">es6-promise</a> before the async actions are invoked.</p>

<p>Note that <code>React.renderToString</code> does not support asynchronous actions, so there is no need to use a polyfill to pre-render your app in node if all your asynchronous actions are only invoked in browser code.</p>

<p>For a full documentation of this function, see <a href="https://github.com/pluma/axn#axnasyncspecfunction">the documentation of <code>axn.async</code></a>.</p>

<h2>
<a id="createasyncactionsspecsobject" class="anchor" href="#createasyncactionsspecsobject" aria-hidden="true"><span class="octicon octicon-link"></span></a>createAsyncActions(specs):Object</h2>

<p>Creates asynchronous actions for the given <code>specs</code>. Convenience wrapper around <code>createAction</code> for bulk creation of actions.</p>

<p>If <code>specs</code> is an array of strings, returns an object mapping the strings to async actions.</p>

<p>If <code>specs</code> is an object, returns an object mapping the object's keys to the result of calling <code>createAsyncAction</code> with the object's values.</p>

<h2>
<a id="createsimplestoreemptyvalue-preparesimplestore" class="anchor" href="#createsimplestoreemptyvalue-preparesimplestore" aria-hidden="true"><span class="octicon octicon-link"></span></a>createSimpleStore(emptyValue, [prepare]):simpleStore</h2>

<p>Creates a store for immutable data initialized with the given <code>emptyValue</code>.</p>

<p>Returns a function with the following behaviour:</p>

<ul>
<li>when called without arguments, returns the store's content.</li>
<li>when called with <code>null</code>, resets the store's value to <code>emptyValue</code>.</li>
<li>when called with any other defined value, sets the store's value to the result of passing that value to <code>immutable.fromJS</code>.</li>
</ul>

<p>If <code>prepare</code> is a function, values other than <code>null</code> and <code>undefined</code> passed to the store will be preprocessed using that function.</p>

<p>Whenever the store's value changes, the store's content will be passed to its listeners.</p>

<h3>
<a id="storelistenlistener-contextfunction" class="anchor" href="#storelistenlistener-contextfunction" aria-hidden="true"><span class="octicon octicon-link"></span></a>store.listen(listener, [context]):Function</h3>

<p>Registers a change listener with the store. The listener will be invoked with the store's new content whenever it is written to.</p>

<p>The listener will be bound to the given <code>context</code>.</p>

<p>Returns a function that will remove the listener from the store when called.</p>

<h3>
<a id="storeunlistenlistener-context" class="anchor" href="#storeunlistenlistener-context" aria-hidden="true"><span class="octicon octicon-link"></span></a>store.unlisten(listener, [context])</h3>

<p>Removes a change listener from the store. This has the same effect as calling the function returned by <code>store.listen</code>. If the listener was registered with a context, the same context must be used.</p>

<h3>
<a id="storeisemptyboolean" class="anchor" href="#storeisemptyboolean" aria-hidden="true"><span class="octicon octicon-link"></span></a>store.isEmpty():Boolean</h3>

<p>Returns <code>true</code> if the store's current value is equivalent to its <code>emptyValue</code> or <code>false</code> otherwise.</p>

<h3>
<a id="storeisemptylistenlistener-contextfunction" class="anchor" href="#storeisemptylistenlistener-contextfunction" aria-hidden="true"><span class="octicon octicon-link"></span></a>store.isEmpty.listen(listener, [context]):Function</h3>

<p>Like <code>store.listen</code>, but receives a boolean value indicating whether the store is empty (i.e. the result of calling <code>store.isEmpty()</code>) instead of the store's new content.</p>

<h3>
<a id="storeisemptyunlistenlistener-context" class="anchor" href="#storeisemptyunlistenlistener-context" aria-hidden="true"><span class="octicon octicon-link"></span></a>store.isEmpty.unlisten(listener, [context])</h3>

<p>Removes a change listener from <code>store.isEmpty</code>. This has the same effect as calling the function returned by <code>store.isEmpty.listen</code>. If the listener was registered with a context, the same context must be used.</p>

<h2>
<a id="createcursorstoreemptyvalue-preparecursorstore" class="anchor" href="#createcursorstoreemptyvalue-preparecursorstore" aria-hidden="true"><span class="octicon octicon-link"></span></a>createCursorStore(emptyValue, [prepare]):cursorStore</h2>

<p>Creates a store initialized with the given <code>emptyValue</code>.</p>

<p>Behaves like <code>createSimpleStore</code> with the difference that wherever simple stores would pass an immutable value, an immutable cursor to that value is passed instead.</p>

<p>Changes to the cursor will result in the changes being propagated to the store as well.</p>

<h2>
<a id="createrawstoreemptyvalue-preparerawstore" class="anchor" href="#createrawstoreemptyvalue-preparerawstore" aria-hidden="true"><span class="octicon octicon-link"></span></a>createRawStore(emptyValue, [prepare]):rawStore</h2>

<p>Creates a store initialized with the given <code>emptyValue</code>.</p>

<p>Behaves like <code>createSimpleStore</code> with the difference that values are not passed to <code>immutable.fromJS</code>.</p>

<p>Raw stores can be useful if you want to store data that can't be meaningfully represented by <code>immutable</code>'s data structures.</p>

<h2>
<a id="listentolistenable-listenermixin" class="anchor" href="#listentolistenable-listenermixin" aria-hidden="true"><span class="octicon octicon-link"></span></a>listenTo(listenable, listener):Mixin</h2>

<p>Creates a React mixin that registers the given listener function with the given <code>listenable</code> store or action (or anything that has methods <code>listen(fn, ctx)</code> and <code>unlisten(fn, ctx)</code>). The listener will be invoked with its context set to the React component.</p>

<p>If <code>listener</code> is a string, the component's method with the given name will be used.</p>

<p>Registers the listener on <code>componentDidMount</code> and unregisters it on <code>componentWillUnmount</code>.</p>

<h2>
<a id="listentoproppropname-listenermixin" class="anchor" href="#listentoproppropname-listenermixin" aria-hidden="true"><span class="octicon octicon-link"></span></a>listenToProp(propName, listener):Mixin</h2>

<p>Creates a React mixin that registers the given listener function with the store or action (or anything that has methods <code>listen(fn, ctx)</code> and <code>unlisten(fn, ctx)</code>) in the prop <code>propName</code>. The listener will be invoked with its context set to the React component.</p>

<p>Automatically reacts to prop changes.</p>

<p>If <code>listener</code> is a string, the component's method with the given name will be used.</p>

<p>Registers the listener on <code>componentDidMount</code> and unregisters it on <code>componentWillUnmount</code>.</p>

<h2>
<a id="connectstore-namemixin" class="anchor" href="#connectstore-namemixin" aria-hidden="true"><span class="octicon octicon-link"></span></a>connect(store, name):Mixin</h2>

<p>Creates a React mixin that updates the component's state by setting <code>name</code> to the store's value whenever the store's value changes.</p>

<p>Automatically adds the store's current value to the component's initial state.</p>

<p>Registers the listener on <code>componentDidMount</code> and unregisters it on <code>componentWillUnmount</code>.</p>

<h2>
<a id="connectproppropname-namemixin" class="anchor" href="#connectproppropname-namemixin" aria-hidden="true"><span class="octicon octicon-link"></span></a>connectProp(propName, name):Mixin</h2>

<p>Creates a React mixin that updates the component's state by setting <code>name</code> to the value of the store in the prop <code>propName</code> whenever the store's value changes.</p>

<p>Automatically adds the store's current value to the component's initial state and reacts to prop changes.</p>

<p>Registers the listener on <code>componentDidMount</code> and unregisters it on <code>componentWillUnmount</code>.</p>

<h2>
<a id="connectviastores-fnmixin" class="anchor" href="#connectviastores-fnmixin" aria-hidden="true"><span class="octicon octicon-link"></span></a>connectVia(stores, fn):Mixin</h2>

<p>Creates a React mixin that updates the component's state by passing the current value of each store in <code>stores</code> to the given function <code>fn</code> whenever any of the stores changes. The function will be invoked with its context set to the React component.</p>

<p>Automatically adds the result of invoking the function with the current value of each store to the component's initial state.</p>

<p>If <code>fn</code> is a string, the component's method with the given name will be used.</p>

<p>If <code>stores</code> is not an array, it will be wrapped in an array automatically.</p>

<p>Registers the listener on <code>componentDidMount</code> and unregisters it on <code>componentWillUnmount</code>.</p>

<p>Example:</p>

<div class="highlight highlight-js"><pre>React.createClass({
  mixins<span class="pl-k">:</span> [
    connectVia([aStore, bStore], <span class="pl-s1"><span class="pl-pds">'</span>update<span class="pl-pds">'</span></span>)
  ],
  <span class="pl-en">update</span>: <span class="pl-st">function</span> (<span class="pl-vpf">aVal</span>, <span class="pl-vpf">bVal</span>) { <span class="pl-c">// invoked whenever either of the stores changes</span>
    <span class="pl-k">return</span> {
      a<span class="pl-k">:</span> aVal,
      b<span class="pl-k">:</span> bVal.get(<span class="pl-v">this</span>.props.qux), <span class="pl-c">// `this` works as usual</span>
      c<span class="pl-k">:</span> aVal.get(bVal.get(<span class="pl-s1"><span class="pl-pds">'</span>foo<span class="pl-pds">'</span></span>)) <span class="pl-c">// this.state.c depends on both stores</span>
    };
  },
  <span class="pl-c">// ...</span>
});</pre></div>

<h1>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h1>

<p>The MIT/Expat license. For more information, see <a href="http://foss-haas.mit-license.org/">http://foss-haas.mit-license.org/</a> or the accompanying <a href="https://github.com/foss-haas/fynx/blob/master/LICENSE">LICENSE</a> file.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/foss-haas/fynx/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/foss-haas/fynx/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/foss-haas/fynx"></a> is maintained by <a href="https://github.com/foss-haas">Foss & Haas</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
